#include <dht.h>

dht DHT;

#define DHT11_PIN 7

#define LED_RED 13
#define LED_BLUE 12

int templimt = 27;
int humiditylimt = 50;

void setup() {
  pinMode(LED_RED, OUTPUT);
  pinMode(LED_BLUE, OUTPUT);
  
  Serial.begin(9600);
  // put your setup code here, to run once:

}

void loop() {
  // put your main code here, to run repeatedly:
  int chk = DHT.read11(DHT11_PIN);

  if (chk == 0){
    // prints our Temp every 2 secs
    Serial.print("\nTemperature = ");
    Serial.println(DHT.temperature);
    checklimts(0);

    Serial.print("\n");
    // Prints our humidity every 2 secs
    Serial.print("Humidity = ");
    Serial.println(DHT.humidity);
    checklimts(1);

    Serial.print("\n");
  }
  else {
    Serial.println("Error reading DHT11-module Failed!");
    
  }

  // sets a delay to our loop 
  delay(2000);
}

void checklimts(int options){

  
  if (DHT.temperature > templimt && options == 0){
     Serial.print("Temperature is too HIGH!!\n");
     digitalWrite(LED_RED, HIGH);
  }
  else if (options == 0){
    digitalWrite(LED_RED, LOW);
  }

  
  
  if (DHT.humidity > humiditylimt && options == 1){
     Serial.print("Humidity is too HIGH!!");
      digitalWrite(LED_BLUE, HIGH);
  }
  else if (options == 1){
         digitalWrite(LED_BLUE, LOW);
  }
}

